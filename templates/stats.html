<!-- Loading Base HTML Template with Metadata, Bootstrap & Navigation-->
{% extends "base.html" %}

{% block title %} Stats {% endblock %}

<!--------- CONTENT ----------->
{% block content %}
        <main>
            <div class="container text-center">

                <div class="row">
                    <div class="col-md-4">
                        <h5>Totals</h5>
                        <ul class="list-group">

                            <!-- creates list from values from counter_data/totals -->
                            {% for el in counters["totals"].items(): %}
                            <li class="list-group-item d-flex justify-content-between align-items-center">

                                {% if el[0] == "links_entered": %}
                                Eingegebene Links

                                {% else: %}
                                {{ el[0] }}

                                {% endif %}

                                <span class="badge bg-danger rounded-pill">{{ el[1] }}</span>
                            </li>
                            {% endfor %}

                        </ul>

                        <h5 class="mt-3">Abelader Page Views</h5>
                        <ul class="list-group">

                            <!-- creates list from values from counter_data/page_views -->
                            {% for el in counters["page_views"].items(): %}
                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                {{ el[0] }}
                                <span class="badge bg-danger rounded-pill">{{ el[1] }}</span>
                            </li>
                            {% endfor %}

                        </ul>
                    </div>

                    <div class="col-md-8">
                        <h4>Top Verwendungszwecke</h4>
                        {{ plotly_div|safe }}

                    </div>
                </div>

                <div class="row mt-3">
                    <div class="col-md-6">
                        <h4>Top Videos</h4>
                        <table class="table table-hover px-md-3 mt-md-5">
                            <thead>
                                <tr>
                                  <th scope="col">Rang</th>
                                  <th scope="col">Titel</th>
                                  <th scope="col">Eingaben</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for el in video_dict_entries[0:5]: %}
                                <tr>
                                    <th scope="row">{{ loop.index }}</th>

                                        <td class="text-start">{{ el[0] }}</td>
                                        <td>{{ el[1] }}</td>

                                </tr>
                                {% endfor %}

                            </tbody>
                        </table>
                    </div>
                    <div class="col-md-6">
                        <h4>Top Keywords</h4>
                        <table class="table table-hover px-md-3 mt-md-5">
                            <thead>
                                <tr>
                                  <th scope="col">Rang</th>
                                  <th scope="col">Keyword</th>
                                  <th scope="col">Anzahl Videos</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for el in keywords[0:10]: %}
                                <tr>
                                    <th scope="row">{{ loop.index }}</th>

                                        <td class="text-start">{{ el[0] }}</td>
                                        <td>{{ el[1] }}</td>

                                </tr>
                                {% endfor %}

                            </tbody>
                        </table>
                    </div>
                </div>

            </div>
        </main>
{% endblock %}
